var App={mobileDetect:function(){/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)?$("html").addClass("mobile"):$("html").addClass("no-mobile")},preloader:function(){$("body").imagesLoaded(function(){$(".preloader-wrap").delay(200).fadeOut(700)})},navigationMobileStatus:function(){$(".menu-bars").click(function(e){$(".header-menu").hasClass("active")?($(".header-menu").removeClass("active"),$(this).removeClass("active")):($(".header-menu").addClass("active"),$(this).addClass("active"))})},navigationHandler:function(){$(window).resize(function(e){App.navigationResize(),App.navigationSticky()}).trigger("resize"),$(window).scroll(function(e){App.navigationSticky()})},navigationResize:function(){var e=$("#header-content");$(window).innerWidth()<=991?e.addClass("header_mobile").removeClass("header-content"):($(".menu-bars").removeClass("active"),e.removeClass("header_mobile").addClass("header-content").find(".header-menu").css({top:""}).removeClass("active").find("ul").css("display",""))},navigationSticky:function(){var e=$("#header-content"),t=e.innerHeight(),s=$(window).innerWidth();$(window).scrollTop()>0?e.hasClass("header-sticky")||(e.addClass("header-sticky"),$(".platform").addClass("is-sticky"),s<=991&&e.find(".header-menu").css("top",t+"px")):(e.removeClass("header-sticky"),$(".platform").removeClass("is-sticky"),s<=991&&e.find(".header-menu").css("top",t+"px"))},backToTop:function(){$(window).scroll(function(){$(this).scrollTop()>100?$("#back-top").fadeIn():$("#back-top").fadeOut()}),$("#back-top span").click(function(){return $("body,html").animate({scrollTop:0},150),!1})},rowEqualHeightHandler:function(){$(window).resize(function(e){$(window).innerWidth()<768?$(".eq").children("div[class*=col-]").css("height","inherit"):App.rowEqualHeight()}).trigger("resize")},rowEqualHeight:function(){$(".eq").each(function(){var e=0,t=$(this);t.children("div[class*=col-]").each(function(){$(this).css("height","inherit"),e=$(this).innerHeight()>e?$(this).innerHeight():e}),t.children("div[class*=col-]").height(e)})}},Forms={placeholders:function(){$("[placeholder]").animatedplaceholder({placeholder_attr:"placeholder",label_class:"animatedplaceholder",label_class_focus:"placeholder-focus",label_top:"14px",label_left:"12px",label_focus_top:"5px",label_focus_left:"12px",label_focus_size:.8})},textareas:function(){$("textarea").on("input change paste keypress",function(){$(this).prop("rows",1+($(this).val().match(/\n/g)||[]).length)})},checkboxes:function(){$(".checkbox input").change(function(){$(this).is(":checked")?$(this).closest(".checkbox").addClass("checked").find("i").show():$(this).closest(".checkbox").removeClass("checked").find("i").hide()})},selects:function(){$(".selectpicker").on("change",function(){$(this).closest(".bootstrap-select").addClass("started")})},clearErrors:function(){$(".is-invalid").removeClass("is-invalid"),$(".invalid-feedback").remove()}},Lead={typeHandler:function(){$("#type").on("change",function(){Forms.clearErrors(),Lead.typeSegmentsFetch($(this)),Lead.typeSegmentsDependancy($(this),!0)}),$("#type_segment_id").on("change",function(){Lead.typeSegmentsDependancy($(this),!1),Lead.posRetailHandler()})},typeSegmentRestore:function(){$("#type").length>0&&""!=$("#type option:selected").val()&&Lead.typeSegmentsFetch($("#type option:selected"))},typeSegmentsFetch:function(e){var t=$("#type_segment_id_old"),s=e.val();$.ajax({url:"/lead/typeSegmentsFetch",method:"POST",data:{value:s,_token:$('input[name="_token"]').val()},success:function(e){$("#type_segment_id").html(e).selectpicker("refresh").closest(".bootstrap-select").removeClass("started"),""!==t.val()&&$("select[name=type_segment_id]").val(t.val()).selectpicker("refresh").closest(".bootstrap-select").addClass("started"),Lead.typeSegmentsDependancy($("select[name=type_segment_id]"),!1),Lead.posRetailHandler()}})},typeSegmentsDependancy:function(e,t){if(1==t)$('div[class*="dep_"]').hide();else if($("#"+e.attr("id")+" option:selected").length>0){var s=$("#"+e.attr("id")+" option:selected").attr("class"),a=s.split("_")[0]+"_"+s.split("_")[1];$('div[class*="'+a+'"]').hide(),$("div."+s).show()}else $("#type_segment_id").closest(".bootstrap-select").removeClass("started")},devicesHandler:function(){$("#devices").on("change",function(){1==$(this).val()?$(".devices_wrapper").show().find("textarea").focus():$(".devices_wrapper").hide()})},kdsHandler:function(){$("#xef_kds_id").on("change",function(){1==$(this).val()?$("#xef_kds_quantity").prop("disabled",!1).focus().closest(".form-group").removeClass("disabled"):$("#xef_kds_quantity").prop("disabled",!0).closest(".form-group").addClass("disabled")})},pmsHandler:function(){$("#xef_general_typology_id").on("change",function(){7==$(this).val()?($("#xef_pms_id").prop("disabled",!1).selectpicker("refresh").closest(".form-group").removeClass("disabled"),""!=$("#xef_pms_other").val()&&$("#xef_pms_other").prop("disabled",!1).closest(".form-group").removeClass("disabled")):($("#xef_pms_id").prop("disabled",!0).selectpicker("refresh").closest(".form-group").addClass("disabled"),$("#xef_pms_other").prop("disabled",!0).closest(".form-group").addClass("disabled"))}),$("#xef_pms_id").on("change",function(){-1==$(this).val()?$("#xef_pms_other").prop("disabled",!1).focus().closest(".form-group").removeClass("disabled"):$("#xef_pms_other").prop("disabled",!0).closest(".form-group").addClass("disabled")})},posHandler:function(){$("#xef_property_franchise_id").on("change",function(){2!=$(this).val()?$("#franchise_pos_external_id").prop("disabled",!1).selectpicker("refresh").closest(".form-group").removeClass("disabled"):$("#franchise_pos_external_id").prop("disabled",!0).selectpicker("refresh").closest(".form-group").addClass("disabled")})},posRetailHandler:function(){1==$("#type").val()&&1==$("#xef_property_franchise_id").val()||2==$("#type").val()&&5==$("#type_segment_id").val()?$("#franchise_pos_external_id").prop("disabled",!1).selectpicker("refresh").closest(".form-group").removeClass("disabled"):$("#franchise_pos_external_id").prop("disabled",!0).selectpicker("refresh").closest(".form-group").addClass("disabled")},erpHandler:function(){$("#erp_id,#xef_erp_id,#retail_erp_id").on("change",function(){-1==$(this).val()?$("#"+$(this).attr("id")+"_other").prop("disabled",!1).focus().closest(".form-group").removeClass("disabled"):$("#"+$(this).attr("id")+"_other").prop("disabled",!0).closest(".form-group").addClass("disabled")})},multiselectHandler:function(){Lead.multiselectChained($("#xef_soft")),Lead.multiselectChained($("#retail_soft")),Lead.multiselectSetNone($("#xef_property_spaces")),Lead.multiselectSetNone($("#retail_property_spaces")),Lead.multiselectFilterHandler(),$("#xef_soft,#retail_soft").on("changed.bs.select",function(e,t,s,a){Lead.multiselectChained($(this),t),Lead.multiselectFilterHandler(),0==$(this).val().length&&$(this).closest(".bootstrap-select").removeClass("started")}),$("#xef_property_spaces,#retail_property_spaces").on("changed.bs.select",function(e,t,s,a){Lead.multiselectSetNone($(this),t),Lead.multiselectFilterHandler(),0==$(this).val().length&&$(this).closest(".bootstrap-select").removeClass("started")})},multiselectFilterHandler:function(){$("#xef_soft,#retail_soft,#xef_property_spaces,#retail_property_spaces").closest(".bootstrap-select").find(".filter-option .hideHint:gt(0)").hide()},multiselectChained:function(e,t){if(e.length>0){var s=e;if(-1!=s.val().indexOf("other")?$("#"+s.attr("id")+"_other").prop("disabled",!1).focus().closest(".form-group").removeClass("disabled"):$("#"+s.attr("id")+"_other").prop("disabled",!0).closest(".form-group").addClass("disabled"),void 0!==t){var a=s.find("option").eq(t).val();"none"!=a?(s.find("[value=none]").prop("selected",!1),s.selectpicker("refresh")):"none"==a&&(s.find("option:not([value=none])").prop("selected",!1),s.selectpicker("refresh"),$("#"+s.attr("id")+"_other").prop("disabled",!0).closest(".form-group").addClass("disabled"))}}},multiselectSetNone:function(e,t){if(e.length>0){var s=e,a=s.val();if(void 0!==t){var o=s.find("option").eq(t).val();1!=o&&1==$("#type").val()||4!=o&&2==$("#type").val()?(1==$("#type").val()&&s.find("[value=1]").prop("selected",!1),2==$("#type").val()&&s.find("[value=4]").prop("selected",!1),s.selectpicker("refresh")):(1==o&&1==$("#type").val()||4==o&&2==$("#type").val())&&(1==$("#type").val()&&s.find("option:not([value=1])").prop("selected",!1),2==$("#type").val()&&s.find("option:not([value=4])").prop("selected",!1),s.selectpicker("refresh"))}a.length<2&&s.closest(".bootstrap-select").removeClass("started")}},mobileTabs:function(){$(".mobileTab a").not(".customSelect a").click(function(){$(".mobileTab .customSelect .dropdown-toggle .txt").text($(this).text()),$(".mobileTab .customSelect ul li.active").removeClass("active")}),$(".mobileTab .customSelect ul a").click(function(){$(".mobileTab .customSelect .dropdown-toggle .txt").text($(this).text()),$(".mobileTab .customSelect ul li.active").removeClass("active")})}};$(document).ready(function(){App.mobileDetect(),App.preloader(),Lead.typeHandler(),Lead.typeSegmentRestore(),Lead.devicesHandler(),Lead.kdsHandler(),Lead.pmsHandler(),Lead.posHandler(),Lead.erpHandler(),Lead.multiselectHandler(),Lead.mobileTabs(),App.navigationHandler(),App.navigationMobileStatus(),Forms.placeholders(),Forms.textareas(),Forms.checkboxes(),Forms.selects(),App.rowEqualHeightHandler(),App.backToTop(),$(".gridder").gridderExpander({scroll:!0,scrollOffset:100,scrollTo:"panel",animationSpeed:400,animationEasing:"easeInOutExpo",showNav:!1})});
